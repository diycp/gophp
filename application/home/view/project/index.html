{{include_file name='public/header' title='项目主页'}}

    <style>
        .fa-pencil {
            margin-left: 10px;
        }
    </style>

</head>

<body>

<div id="wrapper">

    <!-- Navigation -->
    {{include_file name='public/nav' sidebar='user_sidebar'}}
    <div id="page-wrapper" style="min-height: 384px;">
        <div class="row">
            <div class="col-lg-12">
                <div class="pageTit page-header">
                    <h1>项目主页 </h1>
                    <div class="opt">

                        <a class="btn btn-sm btn-warning" data-toggle="tooltip" data-placement="bottom" data-id="241" href="javascript:void(0);"><i class="fa fa-fw fa-file-pdf-o"></i>导出PDF</a>
                        <a class="btn btn-sm btn-success" data-toggle="tooltip" data-placement="bottom" data-id="241" href="javascript:void(0);"><i class="fa fa-fw fa-file-excel-o"></i>导出EXCEL</a>

                    </div>
                </div>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        基本信息
                    </div>
                    <div class="panel-body">
                        <p class="text-muted"><label>项目名称：</label>{{$project.title}}</p>
                        <p class="text-muted"><label>项目创建人：</label>{{$user.name}}（{{$user.email}}）</p>
                        <p class="text-muted"><label>创建时间：</label>{{$project.add_time}}</p>
                        <p class="text-muted"><label>项目描述：</label><span style="word-break:break-all">{{$project.desc}}</span></p>
                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        参与成员
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th>成员昵称</th>
                                    <th>成员邮箱</th>
                                    <th>加入时间</th>
                                    <th>操作面板</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>杨刚</td>
                                    <td>yanggang@juzifenqi.com</td>
                                    <td>2017-04-14 17:33:39</td>
                                    <td>

                                        <button type="button" class="btn btn-xs btn-danger js_quit" data-project_id="19" data-user_id="34">移出项目</button>

                                    </td>
                                </tr>

                                <tr>
                                    <td>tianxi</td>
                                    <td>tianxi@juzifenqi.com</td>
                                    <td>2017-04-14 17:33:39</td>
                                    <td>

                                        <button type="button" class="btn btn-xs btn-danger js_quit" data-project_id="19" data-user_id="43">移出项目</button>

                                    </td>
                                </tr>

                                <tr>
                                    <td>xueying</td>
                                    <td>247620664@qq.com</td>
                                    <td>2017-04-14 17:33:39</td>
                                    <td>

                                        <button type="button" class="btn btn-xs btn-danger js_quit" data-project_id="19" data-user_id="44">移出项目</button>

                                    </td>
                                </tr>


                                </tbody>
                            </table>

                        </div>
                        <!-- /.table-responsive -->
                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->
            </div>
            <!-- /.col-lg-6 -->
        </div>
    </div>
    <!-- /#page-wrapper -->

    <!-- 添加/编辑项目模态框 -->
    <div class="modal fade" id="js_addProject" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">

            <form role="form">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">编辑项目</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="recipient-name" class="control-label">项目名称:</label>
                            <input type="text" class="form-control" id="recipient-name" placeholder="必填" datatype="*" nullmsg="请输入项目名称!" errormsg="请输入项目名称!">
                            <span class="Validform_checktip"></span>
                        </div>

                        <div class="form-group">
                            <label for="message-text" class="control-label">项目描述:</label>
                            <textarea class="form-control" id="message-text" placeholder="必填" datatype="*" nullmsg="请输入项目描述!" errormsg="请输入项目描述!"></textarea>
                            <span class="Validform_checktip"></span>

                        </div>

                        <div class="form-group">
                            <label for="" class="control-label">项目成员:</label>
                            <div class="picking-user">
                                <span class="picked-user" data-id=1 data-name="勾国磊(245629560@qq.com)" data-email="ZHANGPANPAN">勾国磊(245629560@qq.com)<i title="点击删除" class="fa fa-times js_deleteUser"></i></span>
                                <span class="picked-user" data-id=2 data-name="杨康(9560@qq.com)" data-email="yanggang">杨康(9560@qq.com)<i title="点击删除" class="fa fa-times js_deleteUser"></i></span>
                                <span class="picked-user" data-id=3 data-name="石武浩(shiwuhao@qq.com)" data-email="shiwuhao">石武浩(shiwuhao@qq.com)<i title="点击删除" class="fa fa-times js_deleteUser"></i></span>
                                <span class="picked-user" data-id=4 data-name="胡应林(huyinglin@qq.com)" data-email="huyinglin">胡应林(huyinglin@qq.com)<i title="点击删除" class="fa fa-times js_deleteUser"></i></span>
                                <span class="picked-user" data-id=5 data-name="徐子彬(xuziben@juzifenqi.com)" data-email="xuzibin">徐子彬(xuziben@juzifenqi.com)<i title="点击删除" class="fa fa-times js_deleteUser"></i></span>
                                <span class="picked-user" data-id=6 data-name="张敬敏(gaojingmin@juzifeniq.com)" data-email="zhangjingmin">张敬敏(gaojingmin@juzifeniq.com)<i title="点击删除" class="fa fa-times js_deleteUser"></i></span>

                                <input class="form-control accounts-inputer js_addUser" data-id="5" autocomplete="off" placeholder="添加项目成员">

                                <div class="accounts-con"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="recipient-name" class="control-label">是否允许被搜索到:</label>
                            <div class="form-group">
                                <label class="radio-inline">
                                    <input type="radio" name="inlineRadioOptions" checked id="inlineRadio2" value="option2"> 允许
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3"> 禁止
                                </label>
                            </div>
                        </div>


                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                        <button type="button" class="btn btn-primary js_submit">提交</button>
                    </div>

                </div>
            </form>

        </div>

    </div>
    <!-- 删除项目模态框 -->
    <div class="modal fade" id="js_deleteProject" tabindex="2" role="dialog">
        <div class="modal-dialog" role="document">
            <form>
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">确定删除此项目吗？</h4>
                    </div>
                    <div class="modal-body">
                        <p>项目删除后，所有接口也将被立刻删除，不可恢复，请谨慎操作！</p>
                        <form>
                            <div class="form-group">
                                <input type="text" class="form-control" id="recipient-name" placeholder="重要操作，请输入密码" datatype="s2-10" nullmsg="请输入登录密码!" errormsg="请输入请输入登录密码!">
                                <span class="Validform_checktip"></span>
                            </div>

                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" class="btn btn-danger">删除</button>
                    </div>
                </div><!-- /.modal-content -->
            </form>
        </div><!-- /.modal-dialog -->
    </div>

    <!-- 修改模块模态框 -->
    <div class="modal fade" id="js_editModule" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">

            <form role="form">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">编辑模块</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="recipient-name" class="control-label">模块名称:</label>
                            <input type="text" class="form-control" id="recipient-name" placeholder="必填" datatype="*" nullmsg="请输入项目名称!" errormsg="请输入项目名称!">
                            <span class="Validform_checktip"></span>
                        </div>

                        <div class="form-group">
                            <label for="message-text" class="control-label">模块描述:</label>
                            <textarea class="form-control" id="message-text" placeholder="必填" datatype="*" nullmsg="请输入项目描述!" errormsg="请输入项目描述!"></textarea>
                            <span class="Validform_checktip"></span>

                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                        <button type="button" class="btn btn-primary js_submit">提交</button>
                    </div>

                </div>
            </form>

        </div>

    </div>

    <!-- 添加接口模态框 -->
    <div class="modal fade" id="js_addApi" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">

            <form role="form">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">添加接口</h4>
                    </div>
                    <div class="modal-body">

                            <div class="form-group">
                                <label>所属模块</label>
                                <input class="form-control" name="api[title]" value="会员模块" placeholder="必填" datatype="s2-50" nullmsg="请输入所属模块" errormsg="请输入2-50个字母组成的字符" disabled>
                                <span class="Validform_checktip"></span>
                            </div>

                            <div class="form-group">
                                <label>接口名称</label>
                                <input class="form-control" name="api[title]" value="" placeholder="必填" datatype="s2-50" nullmsg="请输入接口名称" errormsg="请输入2-50个字母组成的字符">
                                <span class="Validform_checktip"></span>
                            </div>

                            <div class="control-group" style="margin:0 0 10px 0;">
                                <label>接口类型：</label>
                                <label class="radio-inline ">
                                    <input type="radio" name="api[request_type]" value="1">get
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="api[request_type]" value="2">post
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="api[request_type]" value="3" checked="">get/post
                                </label>

                            </div>

                            <div class="form-group">
                                <label>测试地址</label>
                                <input class="form-control" name="api[develop_request_url]" value="" placeholder="http://，非必填" ignore="ignore" datatype="/^(http|https)\:\/\//" nullmsg="没有可不填" errormsg="请输入合法的网址">
                                <span class="Validform_checktip"></span>
                            </div>

                            <div class="form-group">
                                <label>正式地址</label>
                                <input class="form-control" name="api[product_request_url]" value="" placeholder="http://，必填" datatype="/^(http|https)\:\/\//" nullmsg="请输入接口请求地址！" errormsg="请输入合法的网址">
                                <span class="Validform_checktip"></span>
                            </div>

                            <div class="form-group">
                                <label>接口描述</label>
                                <textarea class="form-control" name="api[desc]" rows="3" placeholder="非必填"></textarea>
                                <span class="Validform_checktip"></span>
                            </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                        <button type="button" class="btn btn-primary js_submit">提交</button>
                    </div>

                </div>
            </form>

        </div>

    </div>

    <!-- 删除模块模态框 -->
    <div class="modal fade" id="js_deleteModule" tabindex="2" role="dialog">
        <div class="modal-dialog" role="document">
            <form>
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">确定删除此模块吗？</h4>
                    </div>
                    <div class="modal-body">
                        <p>模块删除后，所有接口也将被立刻删除，不可恢复，请谨慎操作！</p>
                        <form>
                            <div class="form-group">
                                <input type="text" class="form-control" id="recipient-name" placeholder="重要操作，请输入密码" datatype="s2-10" nullmsg="请输入登录密码!" errormsg="请输入请输入登录密码!">
                                <span class="Validform_checktip"></span>
                            </div>

                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" class="btn btn-danger">删除</button>
                    </div>
                </div><!-- /.modal-content -->
            </form>
        </div><!-- /.modal-dialog -->
    </div>


</div>
<!-- /#wrapper -->

<script>
    $(function(){

        //表单合法性验证
        $("#js_addApi form, #js_deleteModule form, #js_editModule form").Validform({

            tiptype:function(msg,o,cssctl){

                if(!o.obj.is("form")){

                    var objtip=o.obj.siblings(".Validform_checktip");

                    cssctl(objtip,o.type);

                    objtip.text(msg);

                }

            },

            label:"label",

            ajaxPost:true,

            btnSubmit:".js_submit",

            beforeSubmit:function(){

                $(".js_submit").attr("disabled", "disabled").text('提交中..');

            },

        });

        // 吐司提示
        $('[data-toggle="tooltip"]').tooltip();

        // 修改模块
        $(".js_editModule").click(function () {
            // 阻止事件冒泡
            event.stopPropagation();
            $('#js_editModule').modal('show');
        });

        // 添加接口
        $(".js_addApi").click(function () {
            // 阻止事件冒泡
            event.stopPropagation();
            $('#js_addApi').modal('show');
        });

        // 删除模块
        $(".js_deleteModule").click(function () {
            // 阻止事件冒泡
            event.stopPropagation();
            $('#js_deleteModule').modal('show');
        });

        $(".js_module").mouseover(function(){

//            if($(this).hasClass('active')){
//                $(this).find('.fa-option').addClass('hidden');
//            }else{
//                $(this).find('.fa-option').removeClass('hidden');
//            }

            $(this).find('.fa-option').removeClass('hidden');

        }).mouseout(function(){
            $(this).find('.fa-option').addClass('hidden');
        });
    });
</script>



{{include_file name='public/footer'}}